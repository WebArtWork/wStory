import{a as $}from"./chunk-VU4HKXXL.js";import{a as D}from"./chunk-P2VFJXXC.js";import{a as N}from"./chunk-7L26YTOH.js";import{a as B}from"./chunk-LQHP3VAI.js";import{a as W}from"./chunk-DND7ZSTE.js";import{a as q}from"./chunk-SVEY2WNM.js";import{a as U}from"./chunk-PCYPAJBM.js";import{e as P}from"./chunk-CLQKAVLW.js";import"./chunk-N6ULEWAM.js";import{Aa as w,F as f,G as v,I as r,Ib as H,L as u,La as M,M as x,N as k,P as T,R as h,X as m,Y as n,Z as t,Za as L,_ as l,_a as O,bb as j,da as S,ea as _,na as b,oa as c,pa as E,qa as y,s as I,ua as C,ya as F,yb as z}from"./chunk-OMW3WEZW.js";var A=(()=>{let e=class e{transform(a,d){return a.filter(s=>s.change===d)}};e.\u0275fac=function(d){return new(d||e)},e.\u0275pipe=T({name:"types",type:e,pure:!0});let i=e;return i})();function Z(i,e){if(i&1&&(n(0,"div",26)(1,"div",27)(2,"div",28),l(3,"img",8),t(),n(4,"div",29),c(5),t()()()),i&2){let o=e.$implicit,a=_();m("routerLink",C("/event/",o._id)),r(3),m("src",o.thumb?a.url+o.thumb:"/assets/default.png",v),r(2),y(" ",o.name," ")}}function ee(i,e){if(i&1&&(n(0,"div",30)(1,"div",27)(2,"div",28),l(3,"img",8),t(),n(4,"div",29),c(5),t(),l(6,"div",31),t()()),i&2){let o=e.$implicit,a=_(2);r(3),m("src",o.thumb?a.url+o.thumb:"/assets/default.png",v),r(2),y(" ",o.name," "),r(),m("innerHTML",o.description,f)}}function te(i,e){if(i&1&&(n(0,"div",20)(1,"div",21),c(2),t(),n(3,"div",22),h(4,ee,7,3,"div",25),F(5,"types"),t()()),i&2){let o=e.$implicit,a=_();r(2),E(o.name),r(2),m("ngForOf",w(5,2,a.types,o._id))}}function ie(i,e){if(i&1&&(n(0,"div",30)(1,"div",27)(2,"div",28),l(3,"img",8),t(),n(4,"div",29),c(5),t(),l(6,"div",31),t()()),i&2){let o=e.$implicit,a=_();r(3),m("src",o.thumb?a.url+o.thumb:"/assets/default.png",v),r(2),y(" ",o.name," "),r(),m("innerHTML",o.description,f)}}function ne(i,e){if(i&1&&(n(0,"div",30)(1,"div",27)(2,"div",28),l(3,"img",8),t(),n(4,"div",29),c(5),t(),l(6,"div",31),t()()),i&2){let o=e.$implicit,a=_();r(3),m("src",o.thumb?a.url+o.thumb:"/assets/default.png",v),r(2),y(" ",o.name," "),r(),m("innerHTML",o.description,f)}}var G=(()=>{let e=class e{constructor(a,d,s,g,J,K,Q,V,X){this._characterService=a,this._locationService=d,this._typeService=s,this._changeService=g,this._eventService=J,this._storyService=K,this.userService=Q,this._form=V,this._router=X,this.url=z.url,this.storyId=this._router.url.replace("/world/",""),this.formDoc=this._form.getForm("docForm",{formId:"docForm",title:"Doc form",components:[{name:"Text",key:"name",focused:!0,fields:[{name:"Placeholder",value:"Enter your name"},{name:"Label",value:"Name"}]},{name:"Text",key:"phone",fields:[{name:"Placeholder",value:"Enter your phone"},{name:"Label",value:"Phone"}]},{name:"Text",key:"bio",fields:[{name:"Placeholder",value:"Enter your bio"},{name:"Label",value:"Bio"},{name:"Textarea",value:!0}]},{name:"Button",fields:[{name:"Label",value:"Let's go"},{name:"Submit",value:!0}]}]}),this.isMenuOpen=!1,this.story=this._storyService.new(),this.characters=[],this.locations=[],this.types=[],this.changes=[],this.events=[],this._storyService.fetch({_id:this.storyId},{name:"public"}).subscribe(p=>this.story=p),this._characterService.get({query:"story="+this.storyId},{name:"public"}).subscribe(p=>this.characters=p),this._locationService.get({query:"story="+this.storyId},{name:"public"}).subscribe(p=>this.locations=p),this._typeService.get({query:"story="+this.storyId},{name:"public"}).subscribe(p=>this.types=p),this._changeService.get({query:"story="+this.storyId},{name:"public"}).subscribe(p=>this.changes=p),this._eventService.get({query:"story="+this.storyId},{name:"public"}).subscribe(p=>this.events=p)}back(){window.history.back()}};e.\u0275fac=function(d){return new(d||e)(u(q),u($),u(D),u(N),u(W),u(B),u(U),u(H),u(L))},e.\u0275cmp=x({type:e,selectors:[["ng-component"]],standalone:!1,decls:42,vars:14,consts:[[1,"documents-wrapper"],[1,"documents-container"],[1,"documents-list"],[1,"documents-header"],[1,"documents-header-left"],[1,"documents-header-left__arrow",3,"click"],[1,"material-icons"],["routerLink","/profile",1,"documents-header-left__avatar"],["alt","",3,"src"],[1,"documents-header__title"],[1,"burger-wrap",3,"click"],[1,"burger"],[1,"documents-sidebar"],[1,"documents-sidebar__close",3,"click"],[1,"documents-sidebar-content"],[1,"documents-sidebar__img"],[1,"documents-sidebar__title"],[1,"documents-sidebar__description",3,"innerHTML"],[1,"documents-main"],[1,"documents-main-content"],[1,"documents-main-row"],[1,"documents__title"],[1,"documents-triggers"],["class","documents-triggers__wrap",3,"routerLink",4,"ngFor","ngForOf"],["class","documents-main-row",4,"ngFor","ngForOf"],["class","documents-triggers__wrap",4,"ngFor","ngForOf"],[1,"documents-triggers__wrap",3,"routerLink"],[1,"documents-triggers__item"],[1,"documents-triggers__img"],[1,"documents-triggers__title"],[1,"documents-triggers__wrap"],[1,"documents-triggers__description",3,"innerHTML"]],template:function(d,s){d&1&&(n(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),S("click",function(){return s.back()}),n(6,"span",6),c(7,"arrow_back_ios"),t()(),n(8,"div",7),l(9,"img",8),t()(),n(10,"div",9),c(11,"Title header"),t(),n(12,"div",10),S("click",function(){return s.isMenuOpen=!s.isMenuOpen}),l(13,"div",11),t()(),n(14,"div",12)(15,"div",13),S("click",function(){return s.isMenuOpen=!s.isMenuOpen}),n(16,"span",6),c(17,"close"),t()(),n(18,"div",14)(19,"div",15),l(20,"img",8),t(),n(21,"div",16),c(22),t(),l(23,"div",17),t()(),n(24,"div",18)(25,"div",19)(26,"div",20)(27,"div",21),c(28,"Stories"),t(),n(29,"div",22),h(30,Z,6,4,"div",23),t()(),h(31,te,6,5,"div",24),n(32,"div",20)(33,"div",21),c(34,"Characters"),t(),n(35,"div",22),h(36,ie,7,3,"div",25),t()(),n(37,"div",20)(38,"div",21),c(39,"Locations"),t(),n(40,"div",22),h(41,ne,7,3,"div",25),t()()()()()()()),d&2&&(b("documents-wrapper--open",s.isMenuOpen),r(9),m("src",s.userService.thumb,v),r(4),b("burger--close",s.isMenuOpen),r(),b("documents-sidebar--open",s.isMenuOpen),r(6),m("src",s.story.thumb?s.url+s.story.thumb:"assets/default.png",v),r(2),E(s.story.name),r(),m("innerHTML",s.story.description,f),r(7),m("ngForOf",s.events),r(),m("ngForOf",s.changes),r(5),m("ngForOf",s.characters),r(5),m("ngForOf",s.locations))},dependencies:[O,M,A],encapsulation:2});let i=e;return i})();var re=[{path:":_id",component:G}],Ee=(()=>{let e=class e{};e.\u0275fac=function(d){return new(d||e)},e.\u0275mod=k({type:e}),e.\u0275inj=I({imports:[j.forChild(re),P]});let i=e;return i})();export{Ee as WorldModule};
