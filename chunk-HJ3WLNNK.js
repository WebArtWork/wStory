import{a as x}from"./chunk-SVEY2WNM.js";import{a,b as F}from"./chunk-WLJVUQYT.js";import{Aa as _,Fb as D,Gb as M,Ib as j,L as r,Lb as w,M as p,Pa as g,Q as l,R as d,Ra as S,X as h,Y as f,Z as u,Za as b,lb as I,oa as y,qa as v,ya as C,zb as T}from"./chunk-OMW3WEZW.js";function P(t,e){if(t&1&&(y(0),C(1,"date")),t&2){let R=e.$implicit;v(" ",_(1,1,R.birth,"dd/MM/YYY")," ")}}var Y=(()=>{let e=class e extends I{allowCreate(){return!!this.story}constructor(s,i,o,k,B){super(a,o,i,s),this._router=k,this._typeService=B,this.story=this._router.url.includes("/characters/")?this._router.url.replace("/characters/",""):"",this.updatableFields=["_id","thumb","name","description","gender","role","birth","abilities","location","type","order","data"],this.configType="local",this.columns=["name"],this.config=this.getConfig(),this.setDocuments(),this._typeService.loaded.then(()=>{let E=this.story?this._typeService.storycharactertpess.filter(n=>n.story===this.story):this._typeService.storycharactertpess;for(let n of this._typeService.storycharactertpess){let m=a.components.find(c=>c.key==="data."+n.name);m&&(m.hidden=!E.find(c=>n._id===c._id))}})}};e.\u0275fac=function(i){return new(i||e)(r(x),r(T),r(j),r(b),r(F))},e.\u0275cmp=p({type:e,selectors:[["ng-component"]],features:[l],decls:2,vars:3,consts:[["title","Characters",3,"columns","config","rows"],["cell","birth"]],template:function(i,o){i&1&&(f(0,"wtable",0),d(1,P,2,4,"ng-template",1),u()),i&2&&h("columns",o.columns)("config",o.config)("rows",o.documents)},dependencies:[S,w,M,D,g],encapsulation:2});let t=e;return t})();var X=[{path:"",component:Y}];export{X as charactersRoutes};
